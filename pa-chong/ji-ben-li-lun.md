# 基本理论

---

## HTTP协议

协议，通俗来讲就是一个约定，客户端和服务端两方面进行数据交换时规定的数据格式。http协议包括

![](/assets/http协议.png)

---

## 请求行

HTTP的请求方法有8种（http1.1新增了5种），最常见的是GET和POST请求。

| 序号 | 方法 | 描述 |
| :--- | :--- | :--- |
| 1 | **GET** | 请求指定的页面信息，并返回实体主体。请求参数在url里 |
| 2 | HEAD | 类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头 |
| 3 | **POST** | 向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。 |
| 4 | PUT | 从客户端向服务器传送的数据取代指定的文档的内容。 |
| 5 | DELETE | 请求服务器删除指定的页面。 |
| 6 | CONNECT | HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。 |
| 7 | OPTIONS | 允许客户端查看服务器的性能。 |
| 8 | TRACE | 回显服务器收到的请求，主要用于测试或诊断。常用的主要有两种get和post两种 |

---

#### 请求头信息

![](/assets/详情.jpg)

---

#### 拓展：

#### HTTP1.0、HTTP1.1和HTTP2.0的区别

* http1.0不支持长连接，每次访问都需要重新进行TCP协议的三次握手，可以通过keep-alive参数设置。

* http1.1

  * 默认支持长连接。
  * 节省带宽。支持只发送header信息\(不带任何body信息\)，如果服务器认为客户端有权限请求服务器，则返回100，否则返回401。客户端如果接受到100，才开始把请求body发送到服务器。
  * 支持HOST域

* HTTP2.0

  * 多路复用。使用了多路复用的技术，做到同一个连接并发处理多个请求，而且并发请求的数量比HTTP1.1大了好几个数量级。

  * 首部压缩。HTTP2.0使用HPACK算法对header的数据进行压缩，这样数据体积小了，在网络上传输就会更快。

  * 服务器推送。在HTTP/2中，服务器可以对客户端的一个请求发送多个响应。

#### **Websocket：**

双工通信，解决只能有客户端发起请求的问题。轮询的效率低，非常浪费资源（因为必须不停连接，或者 HTTP 连接始终打开）

应用场景：实时数据抓取（比如斗鱼弹幕数据）

---

**参考资料：**

[关于HTTP协议，一篇就够了](https://www.cnblogs.com/ranyonsue/p/5984001.html)

[HTTP请求行、请求头、请求体详解](https://blog.csdn.net/u010256388/article/details/68491509)

[HTTP1.0 HTTP 1.1 HTTP 2.0主要区别](https://blog.csdn.net/linsongbin1/article/details/54980801)

[HTTP/2.0 相比1.0有哪些重大改进？](https://www.zhihu.com/question/34074946)

[深入研究：HTTP2 的真正性能到底如何](https://segmentfault.com/a/1190000007219256)

[WebSocket 教程](http://www.ruanyifeng.com/blog/2017/05/websocket.html)

[抓取斗鱼直播弹幕](https://blog.csdn.net/bfboys/article/details/52853041)

